server:
  # from config is 8181
  port: 8180
spring:
  application:
    name: skt-ms-gateway
  cloud:
    gateway:
      routes:
        - id: skt-ms-tester
          uri: lb://skt-ms-tester
          predicates:
            - Path=/ms-tester/**
          filters:
            - RewritePath=/ms-tester/(?<path>.*), /$\{path}
        - id: skt-ms-auth
          uri: http://localhost:8080
          predicates:
            - Path=/ms-auth/**
          filters:
            - RewritePath=/ms-auth/(?<path>.*), /$\{path}
        - id: skt-ms-user
          uri: lb://skt-ms-user
          predicates:
            - Path=/ms-user/**
          filters:
            - RewritePath=/ms-user/(?<path>.*), /$\{path}


management:
  endpoints:
    web:
      exposure:
        include: gateway
eureka:
  config:
    import: optional:file:.env[.properties]
  client:
    enabled: true
    registerWithEureka: true
    serviceUrl:
      defaultZone: ${EUREKA_URL:http://localhost:8707/eureka/}